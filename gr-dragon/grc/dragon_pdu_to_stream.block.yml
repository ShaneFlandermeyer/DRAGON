id: dragon_pdu_to_stream_x
label: PDU to Stream
category: '[dragon]/PDU'


parameters:
  - id: type
    label: PDU Type
    dtype: enum
    options: [ c, f, s, b ]
    option_labels: [ Complex, Float, Short, Byte ]
    option_attributes:
      output: [ complex, float, short, byte ]
    hide: part
  - id: early_burst_behavior
    label: Early Behavior
    dtype: enum
    options: [ dragon.EARLY_BURST_BEHAVIOR__APPEND,
               dragon.EARLY_BURST_BEHAVIOR__DROP,
               dragon.EARLY_BURST_BEHAVIOR__BALK ]
    option_labels: [ Append, Drop, Balk ]
  - id: max_queue_size
    label: Queue Depth
    dtype: int
    default: '64'
    hide: part
  - id: verbose
    label: Verbose
    dtype: enum
    default: 'True'
    options: [ 'True','False' ]
    option_labels: [ 'Yes','No' ]
    hide: ${'part'}

inputs:
  - domain: message
    id: bursts


outputs:
  - domain: stream
    dtype: ${ type.output }

asserts:
  - ${max_queue_size > 2}
  - ${max_queue_size < 30000}

templates:
    imports: import dragon
    make: dragon.pdu_to_stream_${type}(${early_burst_behavior},${max_queue_size},${verbose})

file_format: 1
